@page "/"
@using Jongerkansrijkers.Components.Data.Models
@using Jongerkansrijkers.Services
@inject UserService userService;

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

<EditForm Model="@user" OnValidSubmit="HandleUserSubmit" FormName="UserForm">
	<label for="NameInput">Name</label>
	<InputText id="NameInput" @bind-Value="@user.Name"></InputText>

	<label for="EmailInput">Email</label>
	<input type="email" id="EmailInput" @bind="@user.Email"/>
	
	<label for="PassWordInput">Password</label>
	<InputText id="PassWordInput" @bind-Value="@user.Password"></InputText>

	<button type="submit" class="btn-primary">Make New User</button>

</EditForm>


@code
{
	User user = new();

	public void HandleUserSubmit(EditContext editContext)
	{
		var newUser = (User)editContext.Model;
		userService.AddUser(newUser);

	}

}
